<?php namespace OpenEMR\Common\Utils{class QueryUtils{public static function selectHelper($sqlUpToFromStatement,$map){$where=isset($map["where"])?$map["where"]:null;$data=isset($map["data"])?$map["data"]:null;$join=isset($map["join"])?$map["join"]:null;$order=isset($map["order"])?$map["order"]:null;$limit=isset($map["limit"])?$map["limit"]:null;$sql=$sqlUpToFromStatement;$sql.=!empty($join)?" ".$join:"";$sql.=!empty($where)?" ".$where:"";$sql.=!empty($order)?" ".$order:"";$sql.=!empty($limit)?" LIMIT ".$limit:"";if(!empty($data)){if(empty($limit)||$limit>1){$multipleResults=sqlStatement($sql,$data);$results=array();while($row=sqlFetchArray($multipleResults)){array_push($results,$row);}return$results;}return sqlQuery($sql,$data);}if(empty($limit)||$limit>1){$multipleResults=sqlStatement($sql);$results=array();while($row=sqlFetchArray($multipleResults)){array_push($results,$row);}return$results;}return sqlQuery($sql);}}}